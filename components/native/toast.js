"use strict";function init(){var t=require("../../lib/react.js"),e=(require("../../lib/react-dom.js"),require("../../stores/webviewStores.js")),i=require("../../weapp/utils/tools"),s=t.createClass({displayName:"Toast",getInitialState:function(){return{title:"",icon:"success",hidden:!0}},componentDidMount:function(){e.on("SEND_AS_SDK",this.handleAssdkCommand)},componentWillUnmount:function(){e.removeListener("SEND_AS_SDK",this.handleAssdkCommand)},handleAssdkCommand:function(t,e,i){var s=e.args;"showToast"===t?(this.setState({title:s.title||"",image:s.image||"",icon:s.icon||"success",hidden:!1}),this.hiddenTimeId=setTimeout(this.hide,s.duration||1500)):"hideToast"===t&&(clearTimeout(this.hiddenTimeId),this.hide())},getIconClass:function(){return this.state.image?"wx-toast-image-icon":"wx-toast-icon wx-icon-"+this.state.icon},hide:function(){this.setState({hidden:!0})},render:function(){var e={fontSize:"55px",color:"#ffffff",display:"block"};return this.state.image&&(e.backgroundImage="url("+i.getUrlFromFilePath(this.props.project,this.state.image)+")"),t.createElement("div",{style:{display:this.state.hidden?"none":"block"}},t.createElement("div",{className:"wx-toast-mask"}),t.createElement("div",{className:"wx-toast"},t.createElement("i",{className:this.getIconClass(),style:e}),t.createElement("p",{className:"wx-toast-content"},this.state.title)))}});_exports=s}var _exports;init(),module.exports=_exports;